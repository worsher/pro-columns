"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react"),t=require("antd"),r=require("@ant-design/pro-components");function n(e,t){const r={...e};return Object.keys(t).forEach(e=>{const o=t[e],a=r[e];o&&"object"==typeof o&&!Array.isArray(o)&&a&&"object"==typeof a&&!Array.isArray(a)?r[e]=n(a,o):r[e]=o}),r}function o(e,t){return t in e&&void 0!==e[t]}function a(e,t,r){return o(e,t)?e[t]:r}function s(e){if(o(e,"valueType"))return a(e,"valueType","text")||"text";if(o(e,"valueEnum"))return"select";if(o(e,"fieldProps")){const t=a(e,"fieldProps");if("multiple"===(null==t?void 0:t.mode))return"select";if("password"===(null==t?void 0:t.type))return"password"}return"text"}function i(e,t="input"){const r=a(e,"title","字段"),n=s(e);let o=t;return["select","radio","checkbox","dateRange","timeRange"].includes(n)&&(o="select"),`${{search:"搜索",input:"请输入",select:"请选择"}[o]}${r}`}function l(e){return(t,r)=>n(t,e(t,r))}const c=(e={})=>{const{enable:t=!0,searchTypeMap:r={}}=e,n={text:"text",textarea:"text",password:"text",digit:"digit",digitRange:"digitRange",money:"digit",date:"date",dateRange:"dateRange",dateTime:"dateTime",dateTimeRange:"dateTimeRange",time:"time",timeRange:"timeRange",select:"select",radio:"select",checkbox:"select",...r};return l(e=>{if(!t||o(e,"search")&&!a(e,"search"))return{search:!1};if(o(e,"search")&&"object"==typeof a(e,"search"))return{};const r=a(e,"valueType","text")||"text",s=n[r]||"text";return{search:!0,fieldProps:{...a(e,"fieldProps",{})},..."text"!==s?{searchType:s}:{}}})},u=(e={})=>{const{enable:t=!0,defaultSorter:r=!1}=e;return l(e=>{if(!t||o(e,"sorter")&&!1===a(e,"sorter"))return{sorter:!1};if(o(e,"sorter")&&"function"==typeof a(e,"sorter"))return{};const n=a(e,"dataIndex");if(!n)return{};const s=a(e,"valueType","text")||"text";let i=!0;return["digit","money","percent"].includes(s)?i=(e,t)=>(e[n]||0)-(t[n]||0):["date","dateTime","time"].includes(s)?i=(e,t)=>new Date(e[n]||0).getTime()-new Date(t[n]||0).getTime():"text"===s&&(i=(e,t)=>{const r=String(e[n]||""),o=String(t[n]||"");return r.localeCompare(o)}),{sorter:i,...r?{defaultSortOrder:r}:{}}})},p=(e={})=>{const{enable:t=!0,messageTemplate:r}=e;return l(e=>{if(!t)return{};const n=a(e,"formItemProps.rules",[])||[];if(n.some(e=>e.required))return{};if(!a(e,"dataIndex"))return{};const o=a(e,"title","此字段")||"此字段",s="function"==typeof r?r(o):r||(e=>`请输入${e}`)(o),i=a(e,"valueType","text")||"text",l=["select","radio","checkbox","dateRange","timeRange"].includes(i)?s.replace("输入","选择"):s;return{formItemProps:{...a(e,"formItemProps",{}),rules:[...n,{required:!0,message:l}]}}})},f=(e={})=>{const{enable:t=!0,template:r,includeSearch:n=!0}=e;return l(e=>{if(!t)return{};const s=a(e,"fieldProps",{});if(s.placeholder)return{};const l=a(e,"valueType","text")||"text",c=["select","radio","checkbox","dateRange","timeRange"].includes(l)?"select":"input",u=r?r(e,c):i(e,c),p={fieldProps:{...s,placeholder:u}};if(n&&o(e,"search")){const t=a(e,"search");if(!0===t||"object"==typeof t&&null!==t){const t=r?r(e,"search"):i(e,"search");p.fieldProps.placeholder=t}}return p})};function d(e,t,r=!0){if(null==e||isNaN(e))return"-";const n={minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:r};return new Intl.NumberFormat("zh-CN",n).format(e)}const m=(e={})=>{const{enable:t=!0,type:r,precision:n,symbol:s="¥",useGrouping:i=!0,dateFormat:c="YYYY-MM-DD",formatter:u}=e;return l(e=>{if(!t)return{};if(o(e,"render")&&!u)return{};const l=a(e,"valueType","text")||"text";let p,f=r;return f||("money"===l?f="money":"digit"===l?f="number":["date","dateTime"].includes(l)?f="date":"percent"===l&&(f="percent")),f||u?(u?p=(e,t)=>u(e,t):"money"===f?p=e=>function(e,t=2,r="¥",n=!0){return null==e||isNaN(e)?"-":`${r}${d(e,t,n)}`}(e,n,s,i):"number"===f?p=e=>d(e,n,i):"percent"===f?p=e=>function(e,t=2){return null==e||isNaN(e)?"-":`${d(e,t,!1)}%`}(e,n):"date"===f&&(p=e=>function(e,t="YYYY-MM-DD"){if(!e)return"-";const r=new Date(e);if(isNaN(r.getTime()))return"-";const n=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0"),s=String(r.getHours()).padStart(2,"0"),i=String(r.getMinutes()).padStart(2,"0"),l=String(r.getSeconds()).padStart(2,"0");return t.replace("YYYY",String(n)).replace("MM",o).replace("DD",a).replace("HH",s).replace("mm",i).replace("ss",l)}(e,"dateTime"===l?"YYYY-MM-DD HH:mm:ss":c)),p?{render:p}:{}):{}})};function y(e,t){const{value:r,auto:n,min:o,max:s,charWidth:i=14,padding:l=48}=t;let c;if(void 0!==r)c=r;else if(n){const t=function(e){return{digit:100,money:120,percent:100,date:120,dateTime:180,time:100,dateRange:260,dateTimeRange:360,timeRange:200,select:120,radio:120,checkbox:120,switch:80,option:150,text:void 0,textarea:void 0,password:void 0}[a(e,"valueType","text")||"text"]}(e);if(t)c=t;else{const t=function(e,t,r){const n=a(e,"title","");if(!n)return 0;let o=0,s=0;for(const a of n)/[\u4e00-\u9fa5]/.test(a)?o++:s++;const i=o*t+s*(.6*t)+r;return Math.ceil(i)}(e,i,l);t>0&&(c=t)}}return void 0!==c&&(void 0!==o&&c<o&&(c=o),void 0!==s&&c>s&&(c=s)),c}const g=(e={})=>{const{enable:t=!0,value:r,auto:n=!1,min:a,max:s,charWidth:i=14,padding:c=48,table:u,form:p,description:f}=e;return l((e,l)=>{if(!t)return{};if(o(e,"width"))return{};if("table"===l){if(null===u)return{};let t;return t="number"==typeof u?u:y(e,u&&"object"==typeof u?{...u,charWidth:i,padding:c}:{value:r,auto:n,min:a,max:s,charWidth:i,padding:c}),void 0!==t?{width:t}:{}}if("form"===l)return null===p?{}:p&&["sm","md","lg","xl"].includes(p)?{width:p}:{};if("description"===l){if(null===f)return{};if("number"==typeof f)return{width:f};const t=y(e,{value:r,auto:n,min:a,max:s,charWidth:i,padding:c});return void 0!==t?{width:t}:{}}const d=y(e,{value:r,auto:n,min:a,max:s,charWidth:i,padding:c});return void 0!==d?{width:d}:{}})},h=(e={})=>{const{enable:t=!0,tooltipText:r="复制",successText:n="复制成功"}=e;return l((e,a)=>t?"form"===a||o(e,"copyable")?{}:{copyable:{text:e=>e?String(e):"",tooltips:[r,n]}}:{})},b=(t={})=>{const{enable:r=!0,href:n,target:a="_blank",onClick:s,text:i}=t;return l((t,l)=>{if(!r)return{};if("form"===l)return{};if(o(t,"render")&&!n&&!s)return{};return{render:(t,r)=>{const o=i?"function"==typeof i?i(t,r):i:t||"-";if(s)return e.createElement("a",{style:{cursor:"pointer"},onClick:e=>{e.preventDefault(),s(t,r,e)}},o);const l=n?"function"==typeof n?n(t,r):n:t;return l?e.createElement("a",{href:l,target:a,rel:"_blank"===a?"noopener noreferrer":void 0},o):o}}})},v=(r={})=>{const{enable:n=!0,width:a=60,height:s=60,preview:i=!0,fallback:c="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIiBmaWxsPSIjOTk5Ij7lm77niYc8L3RleHQ+PC9zdmc+",separator:u=",",maxCount:p=5}=r;return l((r,l)=>{if(!n)return{};if("form"===l)return{};if(o(r,"render"))return{};return{render:r=>{if(!r)return"-";let n=[];n="string"==typeof r?r.split(u).filter(e=>e.trim()):Array.isArray(r)?r:[String(r)];const o=n.slice(0,p),l=n.length>p;return e.createElement(t.Space,{size:8},...o.map((r,n)=>e.createElement(t.Image,{key:n,src:r,width:a,height:s,preview:!!i&&{src:r},fallback:c,style:{objectFit:"cover"}})),l&&e.createElement("span",{style:{color:"#999",fontSize:"12px"}},"+"+(n.length-p)))}}})},x=(r={})=>{const{enable:n=!0,type:s="badge",colorMap:i={},defaultColor:c="default"}=r;return l((r,l)=>{if(!n)return{};if("form"===l)return{};if(!o(r,"valueEnum")&&!o(r,"enumKey"))return{};if(o(r,"render"))return{};if("text"===s)return{};return{render:n=>{if(null==n)return"-";const o=(a(r,"valueEnum",{})||{})[n];if(!o)return n;const l=o.text||o.label||n,u=o.status||i[n]||c;return"badge"===s?e.createElement(t.Badge,{status:u,text:l}):"tag"===s?e.createElement(t.Tag,{color:u},l):l}}})};const S=()=>{try{return"development"===process.env.NODE_ENV}catch{return!1}},P=(e,t)=>{var r,n;S()?console.error("[ProColumns Strategy Error]",{message:e.message,column:(null==(r=t.column)?void 0:r.dataIndex)||(null==(n=t.column)?void 0:n.title)||"unknown",strategyIndex:t.strategyIndex,error:e}):console.error("[ProColumns] Strategy execution error:",e.message)},w=(e,t)=>{try{return e.map(e=>({...e})).map((e,r)=>{try{return e.strategys?(e.strategys=e.strategys.map(t=>((e,t)=>{try{if(!e.strategys||0===e.strategys.length)return t;if("replace"===t.mode)return t;{const r=[];return e.strategys.forEach(e=>{r.push(...e.strategy)}),r.push(...t.strategy),{mode:"merge",strategy:r}}}catch(r){return S()&&console.error("[ProColumns Strategy Merge Error]",{message:r.message,column:e.dataIndex||e.title||"unknown",error:r}),t}})(e,t)),((e,t,r)=>{let n={...e};return t.forEach((e,t)=>{try{if(e.scene){const t=Array.isArray(e.scene)?e.scene:[e.scene];if(r&&!t.includes(r))return}e.strategy.forEach((e,o)=>{try{const t=e(n,r);n={...n,...t}}catch(a){P(a,{column:n,strategyIndex:1e3*t+o})}})}catch(o){P(o,{column:n,strategyIndex:t})}}),delete n.strategys,n})(e,e.strategys,t)):e}catch(n){S()?console.error("[ProColumns Strategy Processing Error]",{message:n.message,column:e.dataIndex||e.title||"unknown",columnIndex:r,error:n}):console.error("[ProColumns] Column processing error:",n.message);const t={...e};return delete t.strategys,t}})}catch(r){return S()?console.error("[ProColumns Strategy Error]",{message:r.message,error:r}):console.error("[ProColumns] Unexpected error:",r.message),e.map(e=>{const t={...e};return delete t.strategys,t})}},k=e=>{const{columns:t,enums:r={},scene:n,applyStrategies:o,mergeMode:a=!0,columnStrategies:s}=e,i=o&&o.length>0,l=s&&s.length>0,c=l?new Map(s.map(e=>[e.dataIndex,e])):null,u=t.map(e=>{const t={...e};if("enumKey"in t&&t.enumKey){const e=t.enumKey;r[e]&&(t.valueEnum=r[e]),delete t.enumKey}if(i){const r={mode:"merge",strategy:o};t.strategys=a?[...e.strategys||[],r]:[r]}if(l&&c){const e=c.get(t.dataIndex);if(e){const r={mode:"merge",strategy:e.strategies},n=void 0===e.mergeMode||e.mergeMode;t.strategys=n?[...t.strategys||[],r]:[r]}}return t});return w(u,n)},I=()=>{try{return"development"===process.env.NODE_ENV}catch{return!1}},T={warn(e,t){I()?console.warn(`[ProColumns Warning] ${e}`,t||""):console.warn(`[ProColumns] ${e}`)},error(e,t){I()?(console.error(`[ProColumns Error] ${e}`,t||""),(null==t?void 0:t.stack)&&console.error("Stack trace:",t.stack)):console.error(`[ProColumns] ${e}`)}},R=new Map,_={proTable:"table",proForm:"form",proDescription:"description"},E={register(e){R.set(e.name,e)},getAdapter:e=>R.get(e),transform(e,t,r){try{if(!e)return T.error("Component name is required"),t;if(!Array.isArray(t))return T.error("Columns must be an array"),[];const o=this.getAdapter(e);if(!o){const r=this.getAdapterNames();return T.warn(`Component adapter "${e}" not found. Returning original columns.`,I()?{requestedAdapter:e,availableAdapters:r,suggestion:r.length>0?`Available adapters: ${r.join(", ")}`:"No adapters registered. Did you forget to register the adapter?"}:void 0),t}const{enums:a,scene:s,applyStrategies:i,mergeMode:l=!0,columnStrategies:c}=r||{},u=s||o.scene||_[e];let p;!u&&I()&&T.warn(`No scene specified for component "${e}". Some strategies may not work correctly.`,{adapter:e,providedScene:s,fallbackScene:u});try{p=k({columns:t,enums:a,scene:u,applyStrategies:i,mergeMode:l,columnStrategies:c})}catch(n){T.error("Error occurred while processing strategies. Falling back to original columns.",n),p=t}try{return o.transform(p)}catch(n){return T.error(`Error occurred in adapter "${e}" transform. Falling back to processed columns.`,n),p}}catch(n){return T.error("Unexpected error in Component.transform. Returning original columns.",n),t}},getAdapterNames:()=>Array.from(R.keys()),clear(){R.clear()}},j={};var F,O={exports:{}},C={};var D,M={};"production"===process.env.NODE_ENV?O.exports=function(){if(F)return C;F=1;var t=e,r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,n){var i,l={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!s.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:l,_owner:a.current}}return C.Fragment=n,C.jsx=i,C.jsxs=i,C}():O.exports=(D||(D=1,"production"!==process.env.NODE_ENV&&function(){var t,r=e,n=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),g=Symbol.iterator,h=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];!function(e,t,r){var n=h.ReactDebugCurrentFrame.getStackAddendum();""!==n&&(t+="%s",r=r.concat([n]));var o=r.map(function(e){return String(e)});o.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,o)}("error",e,r)}function v(e){return e.displayName||"Context"}function x(e){if(null==e)return null;if("number"==typeof e.tag&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case a:return"Fragment";case o:return"Portal";case i:return"Profiler";case s:return"StrictMode";case p:return"Suspense";case f:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case c:return v(e)+".Consumer";case l:return v(e._context)+".Provider";case u:return function(e,t,r){var n=e.displayName;if(n)return n;var o=t.displayName||t.name||"";return""!==o?r+"("+o+")":r}(e,e.render,"ForwardRef");case d:var t=e.displayName||null;return null!==t?t:x(e.type)||"Memo";case m:var r=e,n=r._payload,y=r._init;try{return x(y(n))}catch(g){return null}}return null}t=Symbol.for("react.module.reference");var S,P,w,k,I,T,R,_=Object.assign,E=0;function j(){}j.__reactDisabledLog=!0;var F,O=h.ReactCurrentDispatcher;function C(e,t,r){if(void 0===F)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);F=n&&n[1]||""}return"\n"+F+e}var D,N=!1,$="function"==typeof WeakMap?WeakMap:Map;function Y(e,t){if(!e||N)return"";var r,n=D.get(e);if(void 0!==n)return n;N=!0;var o,a=Error.prepareStackTrace;Error.prepareStackTrace=void 0,o=O.current,O.current=null,function(){if(0===E){S=console.log,P=console.info,w=console.warn,k=console.error,I=console.group,T=console.groupCollapsed,R=console.groupEnd;var e={configurable:!0,enumerable:!0,value:j,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}E++}();try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(m){r=m}Reflect.construct(e,[],s)}else{try{s.call()}catch(m){r=m}e.call(s.prototype)}}else{try{throw Error()}catch(m){r=m}e()}}catch(y){if(y&&r&&"string"==typeof y.stack){for(var i=y.stack.split("\n"),l=r.stack.split("\n"),c=i.length-1,u=l.length-1;c>=1&&u>=0&&i[c]!==l[u];)u--;for(;c>=1&&u>=0;c--,u--)if(i[c]!==l[u]){if(1!==c||1!==u)do{if(c--,--u<0||i[c]!==l[u]){var p="\n"+i[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),"function"==typeof e&&D.set(e,p),p}}while(c>=1&&u>=0);break}}}finally{N=!1,O.current=o,function(){if(0===--E){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:_({},e,{value:S}),info:_({},e,{value:P}),warn:_({},e,{value:w}),error:_({},e,{value:k}),group:_({},e,{value:I}),groupCollapsed:_({},e,{value:T}),groupEnd:_({},e,{value:R})})}E<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=a}var f=e?e.displayName||e.name:"",d=f?C(f):"";return"function"==typeof e&&D.set(e,d),d}function A(e,t,r){if(null==e)return"";if("function"==typeof e)return Y(e,!(!(n=e.prototype)||!n.isReactComponent));var n;if("string"==typeof e)return C(e);switch(e){case p:return C("Suspense");case f:return C("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case u:return Y(e.render,!1);case d:return A(e.type,t,r);case m:var o=e,a=o._payload,s=o._init;try{return A(s(a),t,r)}catch(i){}}return""}D=new $;var W=Object.prototype.hasOwnProperty,H={},L=h.ReactDebugCurrentFrame;function V(e){if(e){var t=e._owner,r=A(e.type,e._source,t?t.type:null);L.setExtraStackFrame(r)}else L.setExtraStackFrame(null)}var U=Array.isArray;function z(e){return U(e)}function B(e){return""+e}function q(e){if(function(e){try{return B(e),!1}catch(t){return!0}}(e))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),B(e)}var G,K,Q=h.ReactCurrentOwner,Z={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,r,o,a){var s,i={},l=null,c=null;for(s in void 0!==r&&(q(r),l=""+r),function(e){if(W.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(q(t.key),l=""+t.key),function(e){if(W.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(c=t.ref,function(e){"string"==typeof e.ref&&Q.current}(t)),t)W.call(t,s)&&!Z.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps){var u=e.defaultProps;for(s in u)void 0===i[s]&&(i[s]=u[s])}if(l||c){var p="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var r=function(){G||(G=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}(i,p),c&&function(e,t){var r=function(){K||(K=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"ref",{get:r,configurable:!0})}(i,p)}return function(e,t,r,o,a,s,i){var l={$$typeof:n,type:e,key:t,ref:r,props:i,_owner:s,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,a,o,Q.current,i)}var X,ee=h.ReactCurrentOwner,te=h.ReactDebugCurrentFrame;function re(e){if(e){var t=e._owner,r=A(e.type,e._source,t?t.type:null);te.setExtraStackFrame(r)}else te.setExtraStackFrame(null)}function ne(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}function oe(){if(ee.current){var e=x(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}X=!1;var ae={};function se(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var r=function(e){var t=oe();if(!t){var r="string"==typeof e?e:e.displayName||e.name;r&&(t="\n\nCheck the top-level render call using <"+r+">.")}return t}(t);if(!ae[r]){ae[r]=!0;var n="";e&&e._owner&&e._owner!==ee.current&&(n=" It was passed a child from "+x(e._owner.type)+"."),re(e),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,n),re(null)}}}function ie(e,t){if("object"==typeof e)if(z(e))for(var r=0;r<e.length;r++){var n=e[r];ne(n)&&se(n,t)}else if(ne(e))e._store&&(e._store.validated=!0);else if(e){var o=function(e){if(null===e||"object"!=typeof e)return null;var t=g&&e[g]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof o&&o!==e.entries)for(var a,s=o.call(e);!(a=s.next()).done;)ne(a.value)&&se(a.value,t)}}function le(e){var t,r=e.type;if(null!=r&&"string"!=typeof r){if("function"==typeof r)t=r.propTypes;else{if("object"!=typeof r||r.$$typeof!==u&&r.$$typeof!==d)return;t=r.propTypes}if(t){var n=x(r);!function(e,t,r,n,o){var a=Function.call.bind(W);for(var s in e)if(a(e,s)){var i=void 0;try{if("function"!=typeof e[s]){var l=Error((n||"React class")+": "+r+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[s]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}i=e[s](t,s,n,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(c){i=c}!i||i instanceof Error||(V(o),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",r,s,typeof i),V(null)),i instanceof Error&&!(i.message in H)&&(H[i.message]=!0,V(o),b("Failed %s type: %s",r,i.message),V(null))}}(t,e.props,"prop",n,e)}else void 0===r.PropTypes||X||(X=!0,b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",x(r)||"Unknown"));"function"!=typeof r.getDefaultProps||r.getDefaultProps.isReactClassApproved||b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var ce={};function ue(e,r,o,g,h,v){var S=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===i||e===s||e===p||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===d||e.$$typeof===l||e.$$typeof===c||e.$$typeof===u||e.$$typeof===t||void 0!==e.getModuleId)}(e);if(!S){var P,w="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),w+=oe(),null===e?P="null":z(e)?P="array":void 0!==e&&e.$$typeof===n?(P="<"+(x(e.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):P=typeof e,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",P,w)}var k=J(e,r,o,h,v);if(null==k)return k;if(S){var I=r.children;if(void 0!==I)if(g)if(z(I)){for(var T=0;T<I.length;T++)ie(I[T],e);Object.freeze&&Object.freeze(I)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ie(I,e)}if(W.call(r,"key")){var R=x(e),_=Object.keys(r).filter(function(e){return"key"!==e}),E=_.length>0?"{key: someKey, "+_.join(": ..., ")+": ...}":"{key: someKey}";ce[R+E]||(b('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',E,R,_.length>0?"{"+_.join(": ..., ")+": ...}":"{}",R),ce[R+E]=!0)}return e===a?function(e){for(var t=Object.keys(e.props),r=0;r<t.length;r++){var n=t[r];if("children"!==n&&"key"!==n){re(e),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",n),re(null);break}}null!==e.ref&&(re(e),b("Invalid attribute `ref` supplied to `React.Fragment`."),re(null))}(k):le(k),k}var pe=function(e,t,r){return ue(e,t,r,!1)},fe=function(e,t,r){return ue(e,t,r,!0)};M.Fragment=a,M.jsx=pe,M.jsxs=fe}()),M);var N=O.exports;E.register({name:"proTable",scene:"table",transform:e=>e.map(e=>{const t={...e};return"ellipsis"in t||(t.ellipsis=!0),"search"in t&&!1===t.search&&(t.hideInSearch=!0,delete t.search),"hideInTable"in t&&t.hideInTable&&(t.hideInTable=!0),"defaultHidden"in t&&t.defaultHidden&&delete t.defaultHidden,t})}),E.register({name:"proForm",scene:"form",transform:e=>e.filter(e=>!e.hideInForm).map(e=>{const t={...e};if(delete t.hideInTable,delete t.ellipsis,delete t.copyable,delete t.sorter,delete t.search,delete t.hideInSearch,!t.name&&t.dataIndex&&(t.name=t.dataIndex),!t.width){const e=t.valueType||"text";["textarea"].includes(e)?t.width="xl":["dateRange","dateTimeRange","timeRange"].includes(e)?t.width="lg":t.width="md"}return t})}),E.register({name:"proDescription",scene:"description",transform:e=>e.filter(e=>!e.hideInDescriptions).map(e=>{const t={...e};if(delete t.hideInTable,delete t.sorter,delete t.filters,delete t.hideInForm,delete t.formItemProps,delete t.search,delete t.hideInSearch,delete t.fieldProps,!t.span){const e=t.valueType||"text";["textarea","jsonCode","code"].includes(e)?t.span=3:t.span=1}return t})}),exports.Columns=k,exports.Component=E,exports.Copy=h,exports.DefaultValue=(e={})=>{const{enable:t=!0,value:r,autoInfer:n=!1}=e;return l(e=>{if(!t)return{};if(o(e,"initialValue"))return{};let s;if(void 0!==r)s="function"==typeof r?r():r;else{if(!n)return{};s=function(e){switch(a(e,"valueType","text")){case"digit":case"money":case"percent":return 0;case"switch":return!1;case"checkbox":case"dateRange":case"dateTimeRange":case"timeRange":return[];case"date":case"dateTime":return null;case"select":case"radio":const t=a(e,"valueEnum");return t&&"object"==typeof t&&Object.keys(t)[0]||null;default:return""}}(e)}return{initialValue:s}})},exports.Editable=(e={})=>{const{enable:t=!0,type:r,editableConfig:n={}}=e;return l((e,s)=>{if(!t)return{};if("table"!==s)return{};if(o(e,"editable"))return{};const i={type:r||a(e,"valueType","text")};return n.onSave&&(i.onSave=async(t,r,o,s)=>{const i=a(e,"dataIndex"),l=i?r[i]:void 0;return n.onSave(t,r,l)}),n.onCancel&&(i.onCancel=(e,t)=>{n.onCancel(e,t)}),n.formItemProps&&(i.formItemProps=n.formItemProps),n.fieldProps&&(i.fieldProps=n.fieldProps),{editable:()=>i}})},exports.Enum=x,exports.Format=m,exports.Image=v,exports.Link=b,exports.Permission=(e={})=>{const{enable:t=!0,roles:r,permissions:n,userRoles:o,userPermissions:a,hideWhenNoPermission:s=!0,disableWhenNoPermission:i=!1,checker:c}=e;return l((e,l)=>{if(!t)return{};const u=c?c({roles:r,permissions:n,userRoles:o,userPermissions:a}):function(e){const{roles:t,permissions:r,userRoles:n=[],userPermissions:o=[]}=e;if(!(t&&0!==t.length||r&&0!==r.length))return!0;if(t&&t.length>0&&t.some(e=>n.includes(e)))return!0;if(r&&r.length>0&&r.some(e=>o.includes(e)))return!0;return!1}({roles:r,permissions:n,userRoles:o,userPermissions:a});if(u)return{};const p={};return s&&("table"===l?p.hideInTable=!0:"form"===l?p.hideInForm=!0:"description"===l&&(p.hideInDescriptions=!0)),i&&"form"===l&&!s&&(p.fieldProps={disabled:!0},p.editable=!1),p})},exports.Placeholder=f,exports.Presets=class{static register(e,t){j[e]&&console.warn(`[Pro-Columns] Preset "${e}" already exists and will be overwritten.`),j[e]=t}static get(e){return j[e]}static list(){return Object.keys(j)}static clear(){Object.keys(j).forEach(e=>{delete j[e]})}static searchableField(){return[c(),u(),f({includeSearch:!0})]}static requiredField(){return[p(),f()]}static moneyField(e){const{precision:t=2}=e||{};return[m({type:"money",precision:t}),g({table:120,form:"lg"}),u(),h()]}static dateField(e){const{format:t="YYYY-MM-DD"}=e||{};return[m({type:"date",dateFormat:t}),u(),g({table:180,form:"md"})]}static dateTimeField(){return[m({type:"date",dateFormat:"YYYY-MM-DD HH:mm:ss"}),u(),g({table:200,form:"lg"})]}static enumField(e){const{type:t="badge"}=e||{};return[x({type:t}),c(),p(),f()]}static readonlyField(){return[l(()=>({fieldProps:{disabled:!0},editable:!1}))]}static imageField(e){const{width:t=60,height:r=60,maxCount:n=5}=e||{};return[v({width:t,height:r,maxCount:n}),g({table:100,form:"lg"})]}static linkField(e){const{target:t="_blank"}=e||{};return[b({target:t}),h(),g({table:200})]}static numberField(e){const{precision:t=0}=e||{};return[m({type:"number",precision:t}),u(),g({table:100,form:"md"})]}static percentField(e){const{precision:t=2}=e||{};return[m({type:"percent",precision:t}),u(),g({table:100,form:"md"})]}static editableField(e){const{type:t="text",onSave:r}=e||{};return[l(()=>({editable:()=>({type:t,onSave:r})})),u()]}static fullField(){return[c(),u(),p(),f({includeSearch:!0}),h()]}static idField(e){const{width:t=80,copyable:r=!0,sortable:n=!0}=e||{},o=[l(()=>({width:t,ellipsis:!0,fieldProps:{disabled:!0},hideInForm:!0}))];return r&&o.push(h()),n&&o.push(u()),o}static statusField(e){const{type:t="badge",searchable:r=!0,sortable:n=!0,filterable:o=!0}=e||{},a=[x({type:t}),g({table:100,form:"md"})];return r&&a.push(c()),n&&a.push(u()),o&&a.push(l(e=>({filters:e.valueEnum?Object.keys(e.valueEnum).map(t=>{const r=e.valueEnum[t];return{text:"object"==typeof r&&r.text?r.text:String(r),value:t}}):void 0,filterSearch:!0}))),a}static actionField(e){const{width:t=150,fixed:r="right"}=e||{};return[l(()=>({title:"操作",dataIndex:"action",valueType:"option",width:t,fixed:r,hideInSearch:!0,hideInForm:!0,hideInDescriptions:!0,__export:!0,__exportable:!1}))]}},exports.ProColumnsDescription=function(e){const{columns:t,enums:n,applyStrategies:o,mergeMode:a,columnStrategies:s,...i}=e;return N.jsx(r.ProDescriptions,{columns:E.transform("proDescription",t,{enums:n,applyStrategies:o,mergeMode:a,columnStrategies:s}),...i})},exports.ProColumnsForm=function(e){const{columns:t,enums:n,applyStrategies:o,mergeMode:a,columnStrategies:s,...i}=e;return N.jsx(r.BetaSchemaForm,{columns:E.transform("proForm",t,{enums:n,applyStrategies:o,mergeMode:a,columnStrategies:s}),...i})},exports.ProColumnsTable=function(e){const{columns:t,enums:n,applyStrategies:o,mergeMode:a,columnStrategies:s,...i}=e;return N.jsx(r.ProTable,{columns:E.transform("proTable",t,{enums:n,applyStrategies:o,mergeMode:a,columnStrategies:s}),...i})},exports.Required=p,exports.Search=c,exports.Sort=u,exports.Tooltip=(e={})=>{const{enable:t=!0,content:r,formType:n="tooltip",showInTable:s=!0,showInForm:i=!0}=e;return l(e=>{if(!t)return{};const l="function"==typeof r?r(e):r;if(!l)return{};const c={};if(s&&(o(e,"tooltip")||(c.tooltip=l)),i){const t=a(e,"formItemProps",{});"tooltip"===n?t.tooltip||(c.formItemProps={...t,tooltip:l}):t.extra||(c.formItemProps={...t,extra:l})}return c})},exports.Transform=(e={})=>{const{enable:t=!0,input:r,output:n,display:s}=e;return l((e,i)=>{if(!t)return{};const l={};if("table"!==i&&"description"!==i||!s||o(e,"render")||(l.render=(e,t)=>s(e,t)??e??"-"),"form"===i){const t=a(e,"fieldProps",{}),o=a(e,"convertValue"),s=a(e,"transform");r&&(l.fieldProps={...t,...t.getValueFromEvent?{getValueFromEvent:(...e)=>{const n=t.getValueFromEvent(...e);return r(n)}}:{getValueFromEvent:e=>r(e)}}),n&&(o||(l.convertValue=(e,t)=>n(e,t)),s||(l.transform=e=>n(e)))}return l})},exports.Validation=(e={})=>{const{enable:t=!0,pattern:r,patternMessage:n="格式不正确",min:o,minMessage:s,max:i,maxMessage:c,minLength:u,minLengthMessage:p,maxLength:f,maxLengthMessage:d,validator:m,dependencies:y}=e;return l((e,l)=>{if(!t)return{};if("form"!==l)return{};const g=a(e,"formItemProps.rules",a(e,"rules",[]))||[],h=[];r&&h.push({pattern:r,message:n}),void 0!==o&&h.push({type:"number",min:o,message:s||`最小值为 ${o}`}),void 0!==i&&h.push({type:"number",max:i,message:c||`最大值为 ${i}`}),void 0!==u&&h.push({min:u,message:p||`最少输入 ${u} 个字符`}),void 0!==f&&h.push({max:f,message:d||`最多输入 ${f} 个字符`}),m&&h.push({validator:m});const b=[...g,...h],v={};return b.length>0&&(v.formItemProps={...a(e,"formItemProps",{}),rules:b}),y&&y.length>0&&(v.formItemProps={...v.formItemProps,dependencies:y}),v})},exports.Width=g,exports.createStrategy=l,exports.deepMerge=n,exports.generatePlaceholder=i,exports.getField=a,exports.getFieldType=s,exports.hasField=o,exports.setField=function(e,t,r){return{...e,[t]:r}};
//# sourceMappingURL=pro-columns.cjs.map
