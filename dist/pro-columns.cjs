"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=(t,r)=>{if(!t.strategys||t.strategys.length===0||r.mode==="replace")return r;{const s=[];return t.strategys.forEach(e=>{s.push(...e.strategy)}),s.push(...r.strategy),{mode:"merge",strategy:s}}},d=(t,r,s)=>{let e={...t};return r.forEach(n=>{if(n.scene){const o=Array.isArray(n.scene)?n.scene:[n.scene];if(s&&!o.includes(s))return}n.strategy.forEach(o=>{const c=o(e,s);e={...e,...c}})}),delete e.strategys,e},y=(t,r)=>t.map(e=>({...e})).map(e=>e.strategys?(e.strategys=e.strategys.map(n=>l(e,n)),d(e,e.strategys,r)):e),p=t=>{const{columns:r,enums:s={},scene:e}=t,n=r.map(c=>{const a={...c};if("enumKey"in a&&a.enumKey){const m=a.enumKey;s[m]&&(a.valueEnum=s[m]),delete a.enumKey}return a});return y(n,e)},u=new Map,i={proTable:"table",proForm:"form",proDescription:"description"},g={register(t){u.set(t.name,t)},getAdapter(t){return u.get(t)},transform(t,r,s,e){const n=this.getAdapter(t);if(!n)return console.warn(`Component adapter "${t}" not found, returning original columns`),r;const o=e||n.scene||i[t],c=p({columns:r,enums:s,scene:o});return n.transform(c)},getAdapterNames(){return Array.from(u.keys())},clear(){u.clear()}};exports.Columns=p;exports.Component=g;
//# sourceMappingURL=pro-columns.cjs.map
